# 开发规则

## 1. 代码规范
- 统一使用 Python 3.8+，遵循 PEP8 编码规范。
- 变量、函数、类命名采用有意义的英文，风格统一（变量/函数用小写加下划线，类用大驼峰）。
- 每个函数、类需有清晰的 docstring 注释，说明用途、参数和返回值。
- 重要逻辑需有适当的行内注释。

## 2. 协作流程
- 采用 Git 进行版本管理，主分支（main/master）仅用于发布稳定版本。
- 每个功能/修复需新建 feature/bugfix 分支，开发完成后提交 Pull Request（PR）并由他人 Code Review 后合并。
- 合并前需确保本地通过所有测试。

## 3. 分支管理
- main/master：主分支，仅合并已测试稳定代码。
- dev：开发分支，集成各功能分支。
- feature/xxx：新功能开发分支。
- bugfix/xxx：缺陷修复分支。
- release/xxx：发布准备分支。

## 4. 提交规范
- 提交信息需简明扼要，格式建议：
  - feat: 新增xxx功能
  - fix: 修复xxx问题
  - docs: 更新文档
  - refactor: 代码重构
  - test: 增加/完善测试
  - chore: 其他杂项
- 每次提交需关联对应的 issue（如有）。

## 5. 测试要求
- 每个模块需配备单元测试，覆盖主要功能和边界情况。
- 集成测试需覆盖端到端主流程。
- 所有测试需自动化（pytest/unittest），并在合并前全部通过。

## 6. 依赖管理
- 所有依赖包需写入 requirements.txt 或 pyproject.toml。
- 禁止在生产代码中使用未声明依赖。
- 定期检查依赖包安全性和版本更新。

## 7. 安全与隐私
- 不得在代码库中提交明文密码、密钥、敏感数据。
- 用户数据仅本地处理，不上传云端。
- 严格遵守数据保护法规，敏感数据需加密存储。

## 8. 文档与注释
- 重要模块、接口、流程需配备详细文档（README/开发文档）。
- 代码变更需同步更新相关文档。

## 9. 其他约定
- 遇到疑难问题及时沟通，避免单独决策影响全局。
- 代码合并冲突需主动解决，确保主分支始终可用。
- 定期进行代码审查和技术分享。

## 10. 框架选型与集成
- 本项目推荐使用 **FastAPI** 或 **Streamlit** 作为主框架：
  - 若需前后端分离、RESTful API、灵活扩展，推荐 FastAPI，可结合 Jinja2/前端框架实现页面展示。
  - 若以快速原型和一体化页面为主，推荐 Streamlit，前端展示和后端业务逻辑可在同一 Python 项目中完成。
- 所有页面展示和后端业务逻辑应在同一 Python 项目内实现，便于维护和部署。
- 框架选型需在项目初期全员达成一致，后续如需更换需团队讨论决策。

---

*本规则为团队开发约定，后续可根据实际情况补充和调整。* 